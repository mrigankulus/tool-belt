<label class="columns">
    <span class="flex-1"><i class="fa fa-user"></i> Service Users</span>
    <span class="flex-none" uib-tooltip="If you can not find your service account, please create one in the Users page." tooltip-append-to-body="true">
        <i class="fa fa-question-circle muted"></i>
    </span>
</label>

<ul class="repo-list">
    <li ng-repeat="user in $ctrl.assetState.currentAsset.connectedServiceUsers">
        <i class="fa fa-times-circle" ng-click="$ctrl.removeUser(user)"></i>
        <span><a ui-sref="userDetail({userName: user.userName})">{{ user.fullName }}</a></span>
    </li>

    <li class="new-repo">
        <span ng-if="!$ctrl.isAddingUser"
            ng-click="$ctrl.isAddingUser = true"
            auto-focus="#user">

            <i class="fa fa-plus-circle"></i> Add a User
        </span>

        <div ng-if="$ctrl.isAddingUser">
            <form class="repo-connect-form inline"
                ng-submit="$ctrl.connectUser()">

                <div class="form-group">
                    <service-user-typeahead
                        target-model-parent="$ctrl"
                        placeholder="'Connect User'"
                        style="width: 100%;"></service-user-typeahead>
                </div>

                <footer class="form-actions">
                    <section>
                        <button class="btn btn-primary"
                            type="submit"
                            ng-disabled="!$ctrl.user.userName">Connect</button>

                        <button class="btn btn-link" type="button" ng-click="$ctrl.onCancel()">Cancel</button>
                    </section>
                </footer>
            </form>
        </div>
    </li>
</ul>
